<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/etc/aem-poc-clientlibs/style.css" />
        <script data-sly-test="${!wcmmode.disabled}" src="/etc/aem-poc-clientlibs/aem-poc.client.author.js"></script>
        <script data-sly-test="${wcmmode.disabled}" src="/etc/aem-poc-clientlibs/aem-poc.client.publish.js"></script>
        <sly data-sly-include="head.html" />
    </head>
    <body data-sly-use.model="com.cathcart93.sling.components.models.aempoc.AemReactPageModel">
        <!--This block should be hidden in preview-->

        <!--This block should be shown in preview-->
        <div data-sly-test="${!wcmmode.disabled}"
             id="react-root-preview"
             data-author-component="true"
             data-config='${model.initialStateJson}'
             data-conf-url="${resource.path}.props.json">
        </div>
        <script data-sly-test="${wcmmode.disabled}">
            window.__INITIAL_STATE = ${model.initialStateJson @ context='unsafe'}
        </script>
        <div id="react-root">${model.html @ context='unsafe'}</div>
    </body>
</html>